---
const { pathname } = Astro.url;

const links = [
  { href: '/', label: 'Home' },
  { href: '/tags/', label: 'Tags' },
  { href: '/about/', label: 'About' },
  { href: '/projects/', label: 'Projects' },
  { href: '/rss.xml', label: 'Feed' },
];

function isActive(href: string): boolean {
  if (href === '/') {
    return pathname === '/' || pathname === '';
  }
  return pathname.startsWith(href);
}
---

<nav role="navigation">
  <ul>
    {links.map((link) => (
      <li>
        <a
          href={link.href}
          class:list={[{ active: isActive(link.href) }]}
        >
          {link.label}
        </a>
      </li>
    ))}
  </ul>
</nav>

<style>
  nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: right;
  }

  nav li {
    display: inline-block;
  }

  nav a {
    margin: 0.5rem;
    text-decoration: none;
    text-transform: uppercase;
    color: #495057;
    font-size: 0.8rem;
    font-weight: 500;
    letter-spacing: .05em;
    transition: opacity 0.2s;
  }

  nav a:hover {
    opacity: 0.6;
  }

  nav a.active {
    opacity: 0.6;
  }
</style>
